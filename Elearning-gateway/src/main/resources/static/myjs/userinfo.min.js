$(document).ready(function(){refreshByIdentifier();window.onhashchange=function(b){const a=refreshByIdentifier();window["refresh_"+a]()};$("#edit_user_info_div").stop(true,false).mouseenter(function(){$("#edit_user_info_div *").animate({color:"#2270ef"},100)}).mouseleave(function(){$("#edit_user_info_div *").stop(true,false).animate({color:"white"},100)});$("#upload_head_btn").mouseenter(function(){$("#upload_head_btn").stop(true,false).animate({color:"white",backgroundColor:"#007bff"},100)}).mouseleave(function(){$("#upload_head_btn").stop(true,false).animate({color:"#007bff",backgroundColor:"white"},100)});$("#id_avatar").change(function(){let fileReader=new FileReader();console.log(this.files[0]);fileReader.readAsDataURL(this.files[0]);fileReader.onload=function(){$("#preview_head_img").attr("src",fileReader.result)}});$("#apply_head_btn").click(function(){$(this).text("上传中...").prepend(' <span id="head_spinner" class="spinner-border spinner-border-sm"\n                                                      role="status"\n                                                      aria-hidden="true"></span>');if(!uploadHead()){$("head_spinner").remove();$(this).text("应用")}})});function refreshByIdentifier(){let pageId=getLastResource(window.location.hash);if(pageId!=null){$(".tabs_content").removeClass("active");$("#"+pageId+"_page").addClass("active");$(".user_slider_btn").removeClass("active");$("#"+pageId+"_btn").addClass("active");return pageId}}function getLastResource(b){if(!(b.indexOf("#")>=0)){return null}const a=b.lastIndexOf("/");let new_urlStr=b.substring(a+1,b.length);return new_urlStr}function refresh_courses_info(){}function refresh_course_published(){}function refresh_order_info(){}function refresh_user_info(){}function uploadHead(){let file=$("#id_avatar")[0].files[0];if(file==null){fail_toast("未选择任何图片!");return false}if(file.size>5242880){fail_toast("请选择小于5M的图片!");return false}let formData=new FormData();formData.append("file",file);$.ajax({url:"???",type:"POST",cache:false,data:formData,processData:false,contentType:false,success:function(a){$("head_spinner").remove();$("#apply_head_btn").text("应用");success_toast("上传成功!")},error:function(a){fail_toast("上传失败!")}});return true};